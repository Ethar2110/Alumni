import{d as l}from"./chunk-P5UDLXTY.js";import{M as n,R as a,ka as u,l as s}from"./chunk-4QILVY3Z.js";var d=(()=>{class t{constructor(e){this.router=e,this.userKey="alumni_user",this.user=u(this.getUserFromStorage())}getUserFromStorage(){let e=localStorage.getItem(this.userKey);return e?JSON.parse(e):null}login(e,r){if(r==="password"){let o={id:Date.now(),name:e.split("@")[0],email:e,role:e.includes("admin")?"admin":"user",token:"mock-jwt-token"};return localStorage.setItem(this.userKey,JSON.stringify(o)),this.user.set(o),s(!0)}return s(!1)}register(e,r,o){let i={id:Date.now(),name:e,email:r,role:"user",token:"mock-jwt-token"};return localStorage.setItem(this.userKey,JSON.stringify(i)),this.user.set(i),s(!0)}logout(){localStorage.removeItem(this.userKey),this.user.set(null),this.router.navigate(["/"])}isLoggedIn(){return!!this.user()}isAdmin(){return this.user()?.role==="admin"}static{this.\u0275fac=function(r){return new(r||t)(a(l))}}static{this.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{d as a};
